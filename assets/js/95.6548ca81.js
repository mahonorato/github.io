(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{435:function(e,s,r){"use strict";r.r(s);var _=r(42),a=Object(_.a)({},(function(){var e=this.$createElement,s=this._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[s("h2",{attrs:{id:"regras"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#regras"}},[this._v("#")]),this._v(" Regras")]),this._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[this._v("-- A chamada prara o processamento de uma regra\n         SELECT id_ri_rule, sql_ri_rule       FROM RI_RULES.RI_RULE R       WHERE id_ri_rule = 2049;\n-- Interrompendo o processamento de uma regra\n      -- 1o. Obtendo a sessão do usuário 'RI'     SELECT b.username, b.osuser, b.schemaname, b.user#, b.machine, b.terminal, b.sql_id,'ALTER system KILL SESSION '''||b.sid||', '||b.serial#||''';' SQL       FROM v$process a, v$session b, v$sqltext c      WHERE a.addr=b.paddr AND b.sql_hash_value = c.hash_value        AND b.username =  'DBA_CHOICE' -- 'RI'    --    AND b.STATUS = 'ACTIVE'      ORDER BY a.spid, c.piece;    -- 2o. Valide o SQL em execução (opcional)    Select sql_text from v$sqltext where SQL_ID = '7vnp9h4umvw3f' order by piece;    -- 3o. Mate a sessão usando o SQL gerado no passo 1:     ALTER system KILL SESSION '409, 48220';        -- 4o. Verifique os atributos IN_EXECUTION_RI_RULE e DATE_JOB_CREATION_RI_RULE     select ID_RI_RULE, IN_EXECUTION_RI_RULE, DATE_JOB_CREATION_RI_RULE       from RI_RULES.RI_RULE where id_ri_rule in (3027);    -- 5o. Zere IN_EXECUTION_RI_RULE e coloque NULL para DATE_JOB_CREATION_RI_RULE     update RI_RULES.RI_RULE set IN_EXECUTION_RI_RULE = 0, DATE_JOB_CREATION_RI_RULE = null     where id_ri_rule in (3027);     commit;    -- 6o. Identifique o JOB da regra que está sendo processada pelo FK_ID_RULE E APAGUE O REGISTRO:     select * from RI_RULES.RI_RULE_EXECUTION;     select * from RI_RULES.RI_RULE_EXECUTION where JOB_RI_RULE_EXECUTION = 64007;     delete from RI_RULES.RI_RULE_EXECUTION where JOB_RI_RULE_EXECUTION = 64007;     commit;\nAR_MARCADO_REGIONAL\n    Regra criada para colocar instalações como AR\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);