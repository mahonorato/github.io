<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Passo-a-Passo Rápido | ⎙ L o M ⎙</title>
    <meta name="description" content="[ Leia o Manual ]">
    
    
    <link rel="preload" href="/assets/css/0.styles.ea343242.css" as="style"><link rel="preload" href="/assets/js/app.050a9ff5.js" as="script"><link rel="preload" href="/assets/js/2.213fb269.js" as="script"><link rel="preload" href="/assets/js/14.7f0023f9.js" as="script"><link rel="prefetch" href="/assets/js/10.bd3a2a40.js"><link rel="prefetch" href="/assets/js/11.f2d055f7.js"><link rel="prefetch" href="/assets/js/12.e30c7281.js"><link rel="prefetch" href="/assets/js/13.e8bf53a1.js"><link rel="prefetch" href="/assets/js/15.1534adc6.js"><link rel="prefetch" href="/assets/js/16.293aada5.js"><link rel="prefetch" href="/assets/js/17.695a1206.js"><link rel="prefetch" href="/assets/js/18.03552711.js"><link rel="prefetch" href="/assets/js/19.c0cc1e1a.js"><link rel="prefetch" href="/assets/js/20.6f13a670.js"><link rel="prefetch" href="/assets/js/21.b1a6e654.js"><link rel="prefetch" href="/assets/js/22.f38ee805.js"><link rel="prefetch" href="/assets/js/23.c55b8c01.js"><link rel="prefetch" href="/assets/js/24.422dae1d.js"><link rel="prefetch" href="/assets/js/25.c248c318.js"><link rel="prefetch" href="/assets/js/26.1a9b6032.js"><link rel="prefetch" href="/assets/js/27.a6106988.js"><link rel="prefetch" href="/assets/js/28.58e24684.js"><link rel="prefetch" href="/assets/js/29.9417e179.js"><link rel="prefetch" href="/assets/js/3.b2f3572b.js"><link rel="prefetch" href="/assets/js/30.acc816c8.js"><link rel="prefetch" href="/assets/js/31.deb2f8be.js"><link rel="prefetch" href="/assets/js/32.60bb3e4c.js"><link rel="prefetch" href="/assets/js/33.613219c9.js"><link rel="prefetch" href="/assets/js/34.3f8e08a3.js"><link rel="prefetch" href="/assets/js/35.70c2f4ad.js"><link rel="prefetch" href="/assets/js/36.8a9fd0c2.js"><link rel="prefetch" href="/assets/js/4.5aaecce1.js"><link rel="prefetch" href="/assets/js/5.1b29e3c4.js"><link rel="prefetch" href="/assets/js/6.9ba7221f.js"><link rel="prefetch" href="/assets/js/7.6f053541.js"><link rel="prefetch" href="/assets/js/8.0bf5ddd8.js"><link rel="prefetch" href="/assets/js/9.cb5dc2a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ea343242.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">⎙ L o M ⎙</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">[Inicio]</a></div><div class="nav-item"><a href="/oracle/" class="nav-link">[Oracle]</a></div><div class="nav-item"><a href="/docker/" class="nav-link router-link-active">[Docker]</a></div><div class="nav-item"><a href="/sas/" class="nav-link">[SAS]</a></div><div class="nav-item"><a href="/freeplane.html" class="nav-link">Mapas (ツ)</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">[Inicio]</a></div><div class="nav-item"><a href="/oracle/" class="nav-link">[Oracle]</a></div><div class="nav-item"><a href="/docker/" class="nav-link router-link-active">[Docker]</a></div><div class="nav-item"><a href="/sas/" class="nav-link">[SAS]</a></div><div class="nav-item"><a href="/freeplane.html" class="nav-link">Mapas (ツ)</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Container com Docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docker/" class="sidebar-link">Introdução</a></li><li><a href="/docker/passo_rapido.html" class="active sidebar-link">Passo-a-Passo Rápido</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#passo-a-passo-rapido" class="sidebar-link">Passo-a-Passo Rápido</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#obtendo-informacoes-sobre-o-docker" class="sidebar-link">Obtendo informações sobre o  Docker</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#baixando-uma-imagem-no-docker" class="sidebar-link">Baixando uma imagem no Docker</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#verificando-as-imagens-disponiveis-em-seu-repositorio" class="sidebar-link">Verificando as imagens disponíveis em seu repositório</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#comandos-basicos-para-containers" class="sidebar-link">Comandos básicos para Containers</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#criando-container-com-create" class="sidebar-link">Criando container com CREATE</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#rodando-o-primeiro-container" class="sidebar-link">Rodando o primeiro container</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#verificando-o-container-criado" class="sidebar-link">Verificando o container criado</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#status-de-um-container" class="sidebar-link">Status de um Container</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#nomeando-um-container" class="sidebar-link">Nomeando um Container</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#nomeando-um-container-2" class="sidebar-link">Nomeando um Container</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#trabalhando-interativamente-com-o-container" class="sidebar-link">Trabalhando interativamente com o container</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#desconectando-de-um-container-em-execucao" class="sidebar-link">Desconectando de um container em execução</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#conectando-a-um-container-em-execucao" class="sidebar-link">Conectando a um container em execução</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#parando-a-um-container-em-execucao" class="sidebar-link">Parando a um container em execução</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#excluindo-a-um-container" class="sidebar-link">Excluindo a um container</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#controlando-a-execucao-de-um-container" class="sidebar-link">Controlando a execução de um container</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#container-executando-em-background" class="sidebar-link">Container executando em &quot;background&quot;</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#pausando-um-container" class="sidebar-link">Pausando um container</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#restaura-um-container-pausado" class="sidebar-link">Restaura um container &quot;pausado&quot;</a></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#reinicializando-um-container" class="sidebar-link">Reinicializando um container</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/passo_rapido.html#criando-uma-imagem-a-partir-do-container" class="sidebar-link">Criando uma imagem a partir do Container</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="passo-a-passo-rapido"><a href="#passo-a-passo-rapido" aria-hidden="true" class="header-anchor">#</a> Passo-a-Passo Rápido</h2> <p>Caso não tenha trabalhando anteriormente com o Docker, comece por esta sessão! Os passos descritos, aqui, tem algumas dicas contidas no livro <a href="https://www.packtpub.com/networking-and-servers/learning-docker-second-edition" target="_blank" rel="noopener noreferrer">Learning Docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> e diversas outras fontes da WEB.</p> <h3 id="obtendo-informacoes-sobre-o-docker"><a href="#obtendo-informacoes-sobre-o-docker" aria-hidden="true" class="header-anchor">#</a> Obtendo informações sobre o  Docker</h3> <p>Antes de iniciar, verifique como está o ambiente Docker com o comando:</p> <p><code>sudo docker info</code></p> <pre><code>[marcos@localhost mozilla_marcos0]$ sudo docker info
Containers: 8
 Running: 1
 Paused: 0
 Stopped: 7
Images: 12
Server Version: 18.09.9
...
</code></pre> <h3 id="baixando-uma-imagem-no-docker"><a href="#baixando-uma-imagem-no-docker" aria-hidden="true" class="header-anchor">#</a> Baixando uma imagem no Docker</h3> <p>Depois do docker instalado (links na <a href="/docker/" class="router-link-active">página inicial</a>, comece baixando uma imagem. O comando para tal é:</p> <p><code>sudo docker pull nome-imagem</code></p> <p>Vamos criar um container a partir de uma imagem de uma distribuição Linux sem qualquer aplicação específica associada. Para baixar digite:</p> <p><code>sudo docker pull busybox</code> ou</p> <p><code>sudo docker pull alpine</code></p> <pre><code>[docker_usr@localhost ~]$ docker pull busybox
Using default tag: latest
latest: Pulling from library/busybox
7c9d20b9b6cd: Pull complete 
Digest: sha256:fe301db49df08c384001ed752dff6d52b4305a73a7f608f21528048e8a08b51e
Status: Downloaded newer image for busybox:latest
</code></pre> <div class="tip custom-block"><ul><li>A imagem <a href="https://hub.docker.com/_/busybox" target="_blank" rel="noopener noreferrer">BusyBox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> é conhecida como canivete suíço, pois com um tamanho entre 1 e 5 Mb é excelente para criar distribuições com economia de espaço, além de possuir utilitários muito pequenos que substituem os tradicionais.</li> <li>Outra imagem ótima é a <a href="https://wiki.alpinelinux.org/wiki/Main_Page" target="_blank" rel="noopener noreferrer">Alpine<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, uma distribuição construída com _(musl libc)[https://www.musl-libc.org/] e BusyBox.Ela é muito pequena e otimizada para ser executada na RAM pois utiliza no máximo 8MB. Também pode ser um bom controlador para vários contêineres de docker com RAM suficiente.</li> <li>Para baixar aplicações completas o processo é o mesmo. No <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Docker Hub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> imagens para a maioria dos bancos de dados como postgres, redis, mysql, mongo, etc.</li></ul></div> <h3 id="verificando-as-imagens-disponiveis-em-seu-repositorio"><a href="#verificando-as-imagens-disponiveis-em-seu-repositorio" aria-hidden="true" class="header-anchor">#</a> Verificando as imagens disponíveis em seu repositório</h3> <p><code>sudo docker images</code></p> <pre><code>[docker_usr@localhost ~]$ sudo docker images
REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE
busybox               latest              19485c79a9bb        5 weeks ago         1.22MB
alpine                3.9                 cdf98d1859c1        6 months ago        5.53MB
</code></pre> <h2 id="comandos-basicos-para-containers"><a href="#comandos-basicos-para-containers" aria-hidden="true" class="header-anchor">#</a> Comandos básicos para Containers</h2> <p>Uma vez baixada a imagem desejada, pode-se começar a trabalhar com os containers, para tal é suficiente conhecer alguns poucos comandos. Certifique-se de que tenha instalado uma versão mais recente do Docker.</p> <table><thead><tr><th style="text-align:left;">Comando</th> <th style="text-align:left;">Descrição</th></tr></thead> <tbody><tr><td style="text-align:left;">create</td> <td style="text-align:left;">Cria um container a partir de uma imagem</td></tr> <tr><td style="text-align:left;">inspect</td> <td style="text-align:left;">Lista as informações sobre um container</td></tr> <tr><td style="text-align:left;">kill</td> <td style="text-align:left;">Pára instantaneamente o processo principam dentro do container</td></tr> <tr><td style="text-align:left;">logs</td> <td style="text-align:left;">Imprimi os logs</td></tr> <tr><td style="text-align:left;">ls</td> <td style="text-align:left;">Lista os containers que estão em execução</td></tr> <tr><td style="text-align:left;">rm</td> <td style="text-align:left;">Apaga um container com parado</td></tr> <tr><td style="text-align:left;">run</td> <td style="text-align:left;">Cria um container e o inicializa</td></tr> <tr><td style="text-align:left;">start</td> <td style="text-align:left;">Inicializa um containder criado/parado anteriormente</td></tr> <tr><td style="text-align:left;">stop</td> <td style="text-align:left;">Pára a execução de um container, finalizando a execução dos processos</td></tr></tbody></table> <p>Os comandos acima são utilizados com a sintaxe:</p> <p><code>docker container nome-comando</code></p> <h2 id="criando-container-com-create"><a href="#criando-container-com-create" aria-hidden="true" class="header-anchor">#</a> Criando container com CREATE</h2> <p>São varias as formas de se criar um container à partir de uma imagem. Uma das formas mais simples é criar um container com o comando <em>create</em>:</p> <p><code>sudo docker container create alpine /bin/ash</code></p> <pre><code>[marcos@localhost ~]$ sudo docker container create alpine /bin/ash
941b12c14898360536aebcde99a7fdcd669880667f033978599b1f9f3b61c383
[marcos@localhost ~]$ 
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                       PORTS                    NAMES
941b12c14898        alpine                &quot;/bin/ash&quot;               9 seconds ago       Created                                               romantic_kalam
[marcos@localhost ~]$
</code></pre> <h2 id="rodando-o-primeiro-container"><a href="#rodando-o-primeiro-container" aria-hidden="true" class="header-anchor">#</a> Rodando o primeiro container</h2> <p>Outra maneira comum de criar um container é através do comando <em>run</em>:</p> <p><code>sudo docker run busybox echo &quot;Leia o Manual!&quot;</code></p> <pre><code>[marcos@localhost ~]$ $sudo docker run busybox echo &quot;Leia o Manual!&quot;
Leia o Manual!
</code></pre> <h2 id="verificando-o-container-criado"><a href="#verificando-o-container-criado" aria-hidden="true" class="header-anchor">#</a> Verificando o container criado</h2> <p>O container criado após a execução do comando  <em>run</em> pode ser visto através do comando <em>container ls -a</em></p> <p><code>sudo docker container ls -a</code></p> <pre><code>marcos@localhost mozilla_marcos0]$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES
941b12c14898        alpine                &quot;/bin/ash&quot;               9 minutes ago       Created                                               romantic_kalam
f2c66d7ce322        busybox               &quot;echo 'Leia o Manual…&quot;   10 seconds ago      Exited (0) 10 minutes ago                            kind_stonebraker
</code></pre> <p>A saída acima, mostra que o container <em>kind_stonebraker</em> foi criado, inicializado, executou sua tarefa e foi encerrado. O status <em>&quot;Exited&quot;</em> permite essa conclusão. O valor entre parenteses, nesse caso o 0 (zero), informa que o processo foi concluído sem erros.</p> <h3 id="status-de-um-container"><a href="#status-de-um-container" aria-hidden="true" class="header-anchor">#</a> Status de um Container</h3> <p>Além de <em>&quot;Exited&quot;</em>, os containeres podem estar em seu ambiente com qualquer uma das seguintes situações:</p> <table><thead><tr><th style="text-align:left;">Status</th> <th style="text-align:left;">Descrição</th></tr></thead> <tbody><tr><td style="text-align:left;">Created</td> <td style="text-align:left;">O container foi criado, mas não foi inicializado</td></tr> <tr><td style="text-align:left;">Restarting</td> <td style="text-align:left;">O container que está em processo de inicialização</td></tr> <tr><td style="text-align:left;">Running</td> <td style="text-align:left;">O container está em execução no momento da verificação do status</td></tr> <tr><td style="text-align:left;">Paused</td> <td style="text-align:left;">O container está pausado</td></tr> <tr><td style="text-align:left;">Exited</td> <td style="text-align:left;">O container que foi processado e concluiu sua atividade.</td></tr> <tr><td style="text-align:left;">Dead</td> <td style="text-align:left;">O container que o &quot;daemon&quot; tentou parar mas não conseguiu. Ocorre em momentos de uso intenso de recursos</td></tr></tbody></table> <h3 id="nomeando-um-container"><a href="#nomeando-um-container" aria-hidden="true" class="header-anchor">#</a> Nomeando um Container</h3> <p>Ao criar um container o docker associa ao mesmo um nome e uma UUID (código identificador unico) de maneira a identificá-lo. No exemplo anterior, o Docker, aleatóriamente nomeou o container de &quot;kind_stonebraker&quot; e atribuiu o UUID f2c66d7ce322. Para um gerenciamento adequado será preciso atribuir nomes mais significativos.</p> <h2 id="nomeando-um-container-2"><a href="#nomeando-um-container-2" aria-hidden="true" class="header-anchor">#</a> Nomeando um Container</h2> <p>Para atribuir un nome a um container, utilizar o parâmetro  <code>--name=nome-container</code></p> <p><code>sudo docker run --name=diga_lom busybox echo &quot;Leia o Manual!&quot;</code></p> <pre><code>[marcos@localhost ~]$ sudo docker run --name=diga_lom busybox echo &quot;Leia o Manual!&quot;
Leia o Manual!
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES
118e04914d8e        busybox               &quot;echo 'Leia o Manual…&quot;   12 seconds ago      Exited (0) 11 seconds ago                            diga_lom
</code></pre> <h2 id="trabalhando-interativamente-com-o-container"><a href="#trabalhando-interativamente-com-o-container" aria-hidden="true" class="header-anchor">#</a> Trabalhando interativamente com o container</h2> <p>Ao trabalhar com dados, em várias situações é necessário trabalhar na linha de comando do container que está em execução. O subcomando <em>run</em> possui is parâmetros  <em>-t</em> e <em>-i</em> que inicializam o container de forma interativa</p> <p><code>sudo docker run --name=alpine_sandbox -i-t alpine /bin/ash</code></p> <pre><code>[marcos@localhost mozilla_marcos0]$ sudo docker run -it alpine /bin/ash
/ # 
</code></pre> <ul><li>O parâmetro <em>i</em> é o responsável pela inicialização interativa, capturando a entrada padrão (STDIN) do container.</li> <li>O parâmetro <em>-t</em> aloca um emulador de terminal e o atribui ao container.</li></ul> <div class="tip custom-block"><p>Usaremos o container criado <em>alpine_sandbox</em> nos exemplos seguintes. Lembre-de de Trocar pelo nome do seu container!</p></div> <h2 id="desconectando-de-um-container-em-execucao"><a href="#desconectando-de-um-container-em-execucao" aria-hidden="true" class="header-anchor">#</a> Desconectando de um container em execução</h2> <p>Em diversos momentos, trabalhando interativamente em um container, se faz necessário desconectar do mesmo para fazer uma outra atividade no sistema operacional da máquina host, retornando em seguida. Para desconectar de um container basta teclar a sequencia de comandos &quot;Ctrl P&quot; e &quot;Ctrl Q&quot;.</p> <p>Desconectando com &quot;Ctrl P&quot; e &quot;Ctrl Q&quot;:</p> <p><code>sudo docker run --name=alpine_sandbox -it alpine /bin/ash</code></p> <pre><code>[marcos@localhost ~]$ sudo docker run  --name=alpine_sandbox -it alpine /bin/ash
/ # ls
bin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var
/ # [marcos@localhost ~]$ 
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES
229e10a256d5        alpine                &quot;/bin/ash&quot;               23 seconds ago      Up 21 seconds                                        alpine_sandbox
[marcos@localhost ~]$ 
</code></pre> <h2 id="conectando-a-um-container-em-execucao"><a href="#conectando-a-um-container-em-execucao" aria-hidden="true" class="header-anchor">#</a> Conectando a um container em execução</h2> <p>Para retornar ao container que está em execução usa-se o subcomando <em>attach</em></p> <p><code>sudo docker attach alpine_sandbox</code></p> <pre><code>[marcos@localhost ~]$ sudo docker attach alpine_sandbox
/ # ls
bin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var
/ # 
</code></pre> <h2 id="parando-a-um-container-em-execucao"><a href="#parando-a-um-container-em-execucao" aria-hidden="true" class="header-anchor">#</a> Parando a um container em execução</h2> <p>Para interromper um container que está em execução usa-se o subcomando <em>stop</em></p> <p><code>sudo docker container stop alpine_sandbox</code></p> <pre><code>[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES
8d24146968be        alpine                &quot;/bin/ash&quot;               14 seconds ago      Up 12 seconds                                        alpine_sandbox

[marcos@localhost ~]$ sudo docker container stop alpine_sandbox
alpine_sandbox

[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                       PORTS                    NAMES
8d24146968be        alpine                &quot;/bin/ash&quot;               45 seconds ago      Exited (137) 6 seconds ago                            alpine_sandbox
</code></pre> <h2 id="excluindo-a-um-container"><a href="#excluindo-a-um-container" aria-hidden="true" class="header-anchor">#</a> Excluindo a um container</h2> <p>Para excluir um container o subcomando <em>rm</em>. O container deve estar parado para que o comando seja executado com sucesso</p> <p><code>sudo docker container rm alpine_sandbox</code></p> <pre><code>[marcos@localhost ~]$ sudo docker container rm alpine_sandbox
alpine_sandbox
</code></pre> <h2 id="controlando-a-execucao-de-um-container"><a href="#controlando-a-execucao-de-um-container" aria-hidden="true" class="header-anchor">#</a> Controlando a execução de um container</h2> <p>Além dos comandos apresentados anteriormente, existem alguns outros bastante úteis. mas para utilizá-los será nessária uma imagem que contenha, por exemplo, um servico em execução.</p> <p>Por exemplo, as imagens utilizadas até aqui são iniciadas com o processador de comandos <em>/bin/ash</em> ou <em>/bin/sh</em>. Ao inicializar estes containeres e desconectar, o mesmo passa para o status <em>Exited</em>.</p> <p>Baixaremos um servidor <a href="https://hub.docker.com/r/tobilg/mini-webserver" target="_blank" rel="noopener noreferrer">web mínimo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> para os passos seguintes</p> <p><code>sudo docker pull tobilg/mini-webserver</code></p> <pre><code>[marcos@localhost ~]$ sudo docker pull tobilg/mini-webserver
Using default tag: latest
latest: Pulling from tobilg/mini-webserver
2aecc7e1714b: Pull complete 
e8bfe4fc6199: Pull complete 
b234f264abbe: Pull complete 
684e340e448a: Pull complete 
67f83b1979d1: Pull complete 
00c829ba9035: Pull complete 
Digest: sha256:773954565f17198c1f4e68a2684171d3dd8d3434b9ffefd082c2901b0d7c3bc5
Status: Downloaded newer image for tobilg/mini-webserver:latest
[marcos@localhost ~]$ sudo docker images
REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE
tobilg/mini-webserver   latest              cd885ea73da2        2 years ago         64.5MB
</code></pre> <h3 id="container-executando-em-background"><a href="#container-executando-em-background" aria-hidden="true" class="header-anchor">#</a> Container executando em &quot;background&quot;</h3> <p>Em boa parte das aplicações deseja-se criar o container e deixá-lo rodando em &quot;background&quot;. O parâmetro <em>-d</em> informa ao &quot;deamon&quot; que o container será executado desta forma:</p> <p><code>sudo docker run -d nome_imagem</code></p> <p>sudo docker run --name=mini-web  -d tobilg/mini-webserver</p> <p>[marcos@localhost ~]$ sudo docker run --name=mini-web -d tobilg/mini-webserver
e202a158a4290ddb7911c87defcb67caa2f4ed9b89f9e5c03ebdf79e3046894f
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES
e202a158a429        tobilg/mini-webserver   &quot;node /app/mini-webs…&quot;   6 seconds ago       Up 5 seconds                3000/tcp                 mini-web</p> <div class="tip custom-block"><p>Por se tratar de um servidor WEB, são necessários parametros adicionais na inicializaçao. Para fins de exemplificação, estes parâmetos foram deixados de lado.☻</p></div> <h3 id="pausando-um-container"><a href="#pausando-um-container" aria-hidden="true" class="header-anchor">#</a> Pausando um container</h3> <p>O comando <em>pause</em> interrompe a execução em um ou mais containeres pausando todos os processos, mantendo-os integros.</p> <p><code>sudo docker pause mini-web</code></p> <pre><code>[marcos@localhost ~]$ sudo docker pause mini-web
mini-web
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES
e202a158a429        tobilg/mini-webserver   &quot;node /app/mini-webs…&quot;   6 minutes ago       Up 6 minutes (Paused)       3000/tcp                 mini-web
</code></pre> <h3 id="restaura-um-container-pausado"><a href="#restaura-um-container-pausado" aria-hidden="true" class="header-anchor">#</a> Restaura um container &quot;pausado&quot;</h3> <p>O comando <em>unpause</em> restaura a execução em um ou mais containeres pausados.</p> <p><code>sudo docker unpause mini-web</code></p> <pre><code>[marcos@localhost ~]$ sudo docker unpause mini-web
mini-web
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES
e202a158a429        tobilg/mini-webserver   &quot;node /app/mini-webs…&quot;   8 minutes ago       Up 8 minutes                3000/tcp                 mini-web
</code></pre> <h3 id="reinicializando-um-container"><a href="#reinicializando-um-container" aria-hidden="true" class="header-anchor">#</a> Reinicializando um container</h3> <p>Com o comando <em>restart</em> - Reinicializa um ou mais containeres.Este é uma combinação dos comandos <em>stop</em> e <em>start</em>.</p> <p><code>sudo docker restart mini-web</code></p> <pre><code>[marcos@localhost ~]$ sudo docker restart mini-web
mini-web
[marcos@localhost ~]$ sudo docker container ls -a
CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES
e202a158a429        tobilg/mini-webserver   &quot;node /app/mini-webs…&quot;   12 minutes ago      Up 5 seconds                3000/tcp                 mini-web
</code></pre> <h2 id="criando-uma-imagem-a-partir-do-container"><a href="#criando-uma-imagem-a-partir-do-container" aria-hidden="true" class="header-anchor">#</a> Criando uma imagem a partir do Container</h2> <p>Uma vez que as imagens são baixadas, os containeres são criados e modificados para atender à demandas específicas como a criação de um ambiente de desenvolvimento, por exemplo. Para ser funcional este container precisa ser adequadamente configurado, deve &quot;apontar&quot; para pastas locais na máquina hospedeira, de maneira que haja persistência de dados, terá diferentes programas instalados, bem como serviços configurados. Todo este esforço é preservado com a criação de uma nova imagem à partir do container &quot;pronto para uso&quot;.</p> <p>Para criar uma imagem à partir de um container que foi configurado, recebeu alterações, utilitários e programas, use o comando <em>commit</em>.</p> <p><code>sudo docker commit alpine_sandbox img_alpine_sandbox</code></p> <pre><code>[marcos@localhost ~]$ sudo docker commit alpine_sandbox  img_alpine_sandbox
sha256:414544c5b9bb8f429d5fbb9ae837a83654eee20c2722ace93a5f4d0e7d832532
[marcos@localhost ~]$ sudo docker images
REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE
img_alpine_sandbox      latest              414544c5b9bb        16 seconds ago      5.55MB
</code></pre></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docker/" class="prev router-link-active">Introdução</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.050a9ff5.js" defer></script><script src="/assets/js/2.213fb269.js" defer></script><script src="/assets/js/14.7f0023f9.js" defer></script>
  </body>
</html>
