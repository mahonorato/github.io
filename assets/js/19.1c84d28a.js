(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{413:function(e,a,o){"use strict";o.r(a);var t=o(42),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h2",{attrs:{id:"passo-a-passo-rapido"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#passo-a-passo-rapido"}},[e._v("#")]),e._v(" Passo-a-Passo Rápido")]),e._v(" "),o("p",[e._v("Caso não tenha trabalhando anteriormente com o Docker, comece por esta sessão! Os passos descritos, aqui, tem algumas dicas contidas no livro "),o("a",{attrs:{href:"https://www.packtpub.com/networking-and-servers/learning-docker-second-edition",target:"_blank",rel:"noopener noreferrer"}},[e._v("Learning Docker"),o("OutboundLink")],1),e._v(" e diversas outras fontes da WEB.")]),e._v(" "),o("h3",{attrs:{id:"obtendo-informacoes-sobre-o-docker"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#obtendo-informacoes-sobre-o-docker"}},[e._v("#")]),e._v(" Obtendo informações sobre o  Docker")]),e._v(" "),o("p",[e._v("Antes de iniciar, verifique como está o ambiente Docker com o comando:")]),e._v(" "),o("p",[o("code",[e._v("sudo docker info")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[marcos@localhost mozilla_marcos0]$ sudo docker info\nContainers: 8\n Running: 1\n Paused: 0\n Stopped: 7\nImages: 12\nServer Version: 18.09.9\n...\n")])])]),o("h3",{attrs:{id:"baixando-uma-imagem-no-docker"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#baixando-uma-imagem-no-docker"}},[e._v("#")]),e._v(" Baixando uma imagem no Docker")]),e._v(" "),o("p",[e._v("Depois do docker instalado (links na "),o("RouterLink",{attrs:{to:"/docker/"}},[e._v("página inicial")]),e._v(", comece baixando uma imagem. O comando para tal é:")],1),e._v(" "),o("p",[o("code",[e._v("sudo docker pull nome-imagem")])]),e._v(" "),o("p",[e._v("Vamos criar um contêiner a partir de uma imagem de uma distribuição Linux sem qualquer aplicação específica associada. Para baixar digite:")]),e._v(" "),o("p",[o("code",[e._v("sudo docker pull busybox")]),e._v(" ou")]),e._v(" "),o("p",[o("code",[e._v("sudo docker pull alpine")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[docker_usr@localhost ~]$ docker pull busybox\nUsing default tag: latest\nlatest: Pulling from library/busybox\n7c9d20b9b6cd: Pull complete \nDigest: sha256:fe301db49df08c384001ed752dff6d52b4305a73a7f608f21528048e8a08b51e\nStatus: Downloaded newer image for busybox:latest\n")])])]),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("ul",[o("li",[e._v("A imagem "),o("a",{attrs:{href:"https://hub.docker.com/_/busybox",target:"_blank",rel:"noopener noreferrer"}},[e._v("BusyBox"),o("OutboundLink")],1),e._v(" é conhecida como canivete suíço, pois com um tamanho entre 1 e 5 Mb é excelente para criar distribuições com economia de espaço, além de possuir utilitários muito pequenos que substituem os tradicionais.")]),e._v(" "),o("li",[e._v("Outra imagem ótima é a "),o("a",{attrs:{href:"https://wiki.alpinelinux.org/wiki/Main_Page",target:"_blank",rel:"noopener noreferrer"}},[e._v("Alpine"),o("OutboundLink")],1),e._v(", uma distribuição construída com _(musl libc)[https://www.musl-libc.org/] e BusyBox.Ela é muito pequena e otimizada para ser executada na RAM pois utiliza no máximo 8MB. Também pode ser um bom controlador para vários contêineres de docker com RAM suficiente.")]),e._v(" "),o("li",[e._v("Para baixar aplicações completas o processo é o mesmo. No "),o("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Hub"),o("OutboundLink")],1),e._v(" imagens para a maioria dos bancos de dados como postgres, redis, mysql, mongo, etc.")])])]),e._v(" "),o("h3",{attrs:{id:"verificando-as-imagens-disponiveis-em-seu-repositorio"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#verificando-as-imagens-disponiveis-em-seu-repositorio"}},[e._v("#")]),e._v(" Verificando as imagens disponíveis em seu repositório")]),e._v(" "),o("p",[o("code",[e._v("sudo docker images")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[docker_usr@localhost ~]$ sudo docker images\nREPOSITORY            TAG                 IMAGE ID            CREATED             SIZE\nbusybox               latest              19485c79a9bb        5 weeks ago         1.22MB\nalpine                3.9                 cdf98d1859c1        6 months ago        5.53MB\n")])])]),o("h2",{attrs:{id:"comandos-basicos-para-conteiners"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#comandos-basicos-para-conteiners"}},[e._v("#")]),e._v(" Comandos básicos para Contêiners")]),e._v(" "),o("p",[e._v("Uma vez baixada a imagem desejada, pode-se começar a trabalhar com os contêiners, para tal é suficiente conhecer alguns poucos comandos. Certifique-se de que tenha instalado uma versão mais recente do Docker.")]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",{staticStyle:{"text-align":"left"}},[e._v("Comando")]),e._v(" "),o("th",{staticStyle:{"text-align":"left"}},[e._v("Descrição")])])]),e._v(" "),o("tbody",[o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("create")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Cria um contêiner a partir de uma imagem")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("inspect")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Lista as informações sobre um contêiner")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("kill")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Pára instantaneamente o processo principam dentro do contêiner")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("logs")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Imprimi os logs")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("ls")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Lista os contêiners que estão em execução")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("rm")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Apaga um contêiner com parado")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("run")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Cria um contêiner e o inicializa")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("start")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Inicializa um containder criado/parado anteriormente")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("stop")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("Pára a execução de um contêiner, finalizando a execução dos processos")])])])]),e._v(" "),o("p",[e._v("Os comandos acima são utilizados com a sintaxe:")]),e._v(" "),o("p",[o("code",[e._v("docker container nome-comando")])]),e._v(" "),o("h2",{attrs:{id:"criando-conteiner-com-create"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#criando-conteiner-com-create"}},[e._v("#")]),e._v(" Criando contêiner com CREATE")]),e._v(" "),o("p",[e._v("São varias as formas de se criar um contêiner à partir de uma imagem. Uma das formas mais simples é criar um contêiner com o comando "),o("em",[e._v("create")]),e._v(":")]),e._v(" "),o("p",[o("code",[e._v("sudo docker container create alpine /bin/ash")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker container create alpine /bin/ash\n941b12c14898360536aebcde99a7fdcd669880667f033978599b1f9f3b61c383\n[marcos@localhost ~]$ \n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                       PORTS                    NAMES\n941b12c14898        alpine                "/bin/ash"               9 seconds ago       Created                                               romantic_kalam\n[marcos@localhost ~]$\n')])])]),o("h2",{attrs:{id:"rodando-o-primeiro-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rodando-o-primeiro-conteiner"}},[e._v("#")]),e._v(" Rodando o primeiro contêiner")]),e._v(" "),o("p",[e._v("Outra maneira comum de criar um contêiner é através do comando "),o("em",[e._v("run")]),e._v(":")]),e._v(" "),o("p",[o("code",[e._v('sudo docker run busybox echo "Leia o Manual!"')])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ $sudo docker run busybox echo "Leia o Manual!"\nLeia o Manual!\n')])])]),o("h2",{attrs:{id:"verificando-o-conteiner-criado"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#verificando-o-conteiner-criado"}},[e._v("#")]),e._v(" Verificando o contêiner criado")]),e._v(" "),o("p",[e._v("O contêiner criado após a execução do comando  "),o("em",[e._v("run")]),e._v(" pode ser visto através do comando "),o("em",[e._v("container ls -a")])]),e._v(" "),o("p",[o("code",[e._v("sudo docker container ls -a")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('marcos@localhost mozilla_marcos0]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES\n941b12c14898        alpine                "/bin/ash"               9 minutes ago       Created                                               romantic_kalam\nf2c66d7ce322        busybox               "echo \'Leia o Manual…"   10 seconds ago      Exited (0) 10 minutes ago                            kind_stonebraker\n')])])]),o("p",[e._v("A saída acima, mostra que o contêiner "),o("em",[e._v("kind_stonebraker")]),e._v(" foi criado, inicializado, executou sua tarefa e foi encerrado. O status "),o("em",[e._v('"Exited"')]),e._v(" permite essa conclusão. O valor entre parenteses, nesse caso o 0 (zero), informa que o processo foi concluído sem erros.")]),e._v(" "),o("h3",{attrs:{id:"status-de-um-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#status-de-um-conteiner"}},[e._v("#")]),e._v(" Status de um Contêiner")]),e._v(" "),o("p",[e._v("Além de "),o("em",[e._v('"Exited"')]),e._v(", os contêineres podem estar em seu ambiente com qualquer uma das seguintes situações:")]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",{staticStyle:{"text-align":"left"}},[e._v("Status")]),e._v(" "),o("th",{staticStyle:{"text-align":"left"}},[e._v("Descrição")])])]),e._v(" "),o("tbody",[o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("Created")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("O contêiner foi criado, mas não foi inicializado")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("Restarting")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("O contêiner que está em processo de inicialização")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("Running")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("O contêiner está em execução no momento da verificação do status")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("Paused")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("O contêiner está pausado")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("Exited")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("O contêiner que foi processado e concluiu sua atividade.")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("Dead")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v('O contêiner que o "daemon" tentou parar mas não conseguiu. Ocorre em momentos de uso intenso de recursos')])])])]),e._v(" "),o("h3",{attrs:{id:"nomeando-um-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#nomeando-um-conteiner"}},[e._v("#")]),e._v(" Nomeando um Contêiner")]),e._v(" "),o("p",[e._v('Ao criar um contêiner o docker associa ao mesmo um nome e uma UUID (código identificador unico) de maneira a identificá-lo. No exemplo anterior, o Docker, aleatóriamente nomeou o contêiner de "kind_stonebraker" e atribuiu o UUID f2c66d7ce322. Para um gerenciamento adequado será preciso atribuir nomes mais significativos.')]),e._v(" "),o("h2",{attrs:{id:"nomeando-um-conteiner-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#nomeando-um-conteiner-2"}},[e._v("#")]),e._v(" Nomeando um Contêiner")]),e._v(" "),o("p",[e._v("Para atribuir un nome a um contêiner, utilizar o parâmetro  "),o("code",[e._v("--name=nome-container")])]),e._v(" "),o("p",[o("code",[e._v('sudo docker run --name=diga_lom busybox echo "Leia o Manual!"')])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker run --name=diga_lom busybox echo "Leia o Manual!"\nLeia o Manual!\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES\n118e04914d8e        busybox               "echo \'Leia o Manual…"   12 seconds ago      Exited (0) 11 seconds ago                            diga_lom\n')])])]),o("h2",{attrs:{id:"trabalhando-interativamente-com-o-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#trabalhando-interativamente-com-o-conteiner"}},[e._v("#")]),e._v(" Trabalhando interativamente com o contêiner")]),e._v(" "),o("p",[e._v("Ao trabalhar com dados, em várias situações é necessário trabalhar na linha de comando do contêiner que está em execução. O subcomando "),o("em",[e._v("run")]),e._v(" possui is parâmetros  "),o("em",[e._v("t")]),e._v(" e "),o("em",[e._v("i")]),e._v(" que inicializam o contêiner de forma interativa")]),e._v(" "),o("p",[o("code",[e._v("sudo docker run --name=alpine_sandbox -it alpine /bin/ash")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[marcos@localhost mozilla_marcos0]$ sudo docker run  --name=alpine_sandbox -it alpine /bin/ash\n/ # \n")])])]),o("ul",[o("li",[e._v("O parâmetro "),o("em",[e._v("i")]),e._v(" é o responsável pela inicialização interativa, capturando a entrada padrão (STDIN) do contêiner.")]),e._v(" "),o("li",[e._v("O parâmetro "),o("em",[e._v("-t")]),e._v(" aloca um emulador de terminal e o atribui ao contêiner.")])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("Usaremos o contêiner criado "),o("em",[e._v("alpine_sandbox")]),e._v(" nos exemplos seguintes. Lembre-de de Trocar pelo nome do seu contêiner!")])]),e._v(" "),o("h2",{attrs:{id:"desconectando-de-um-conteiner-em-execucao"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#desconectando-de-um-conteiner-em-execucao"}},[e._v("#")]),e._v(" Desconectando de um contêiner em execução")]),e._v(" "),o("p",[e._v('Em diversos momentos, trabalhando interativamente em um contêiner, se faz necessário desconectar do mesmo para fazer uma outra atividade no sistema operacional da máquina host, retornando em seguida. Para desconectar de um contêiner basta teclar a sequencia de comandos "Ctrl P" e "Ctrl Q".')]),e._v(" "),o("p",[e._v('Desconectando com "Ctrl P" e "Ctrl Q":')]),e._v(" "),o("p",[o("code",[e._v("sudo docker run --name=alpine_sandbox -it alpine /bin/ash")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker run  --name=alpine_sandbox -it alpine /bin/ash\n/ # ls\nbin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var\n/ # [marcos@localhost ~]$ \n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES\n229e10a256d5        alpine                "/bin/ash"               23 seconds ago      Up 21 seconds                                        alpine_sandbox\n[marcos@localhost ~]$ \n')])])]),o("h2",{attrs:{id:"conectando-a-um-conteiner-em-execucao"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#conectando-a-um-conteiner-em-execucao"}},[e._v("#")]),e._v(" Conectando a um contêiner em execução")]),e._v(" "),o("p",[e._v("Para retornar ao contêiner que está em execução usa-se o subcomando "),o("em",[e._v("attach")])]),e._v(" "),o("p",[o("code",[e._v("sudo docker attach alpine_sandbox")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[marcos@localhost ~]$ sudo docker attach alpine_sandbox\n/ # ls\nbin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var\n/ # \n")])])]),o("h2",{attrs:{id:"parando-a-um-conteiner-em-execucao"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#parando-a-um-conteiner-em-execucao"}},[e._v("#")]),e._v(" Parando a um contêiner em execução")]),e._v(" "),o("p",[e._v("Para interromper um contêiner que está em execução usa-se o subcomando "),o("em",[e._v("stop")])]),e._v(" "),o("p",[o("code",[e._v("sudo docker container stop alpine_sandbox")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES\n8d24146968be        alpine                "/bin/ash"               14 seconds ago      Up 12 seconds                                        alpine_sandbox\n\n[marcos@localhost ~]$ sudo docker container stop alpine_sandbox\nalpine_sandbox\n\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                       PORTS                    NAMES\n8d24146968be        alpine                "/bin/ash"               45 seconds ago      Exited (137) 6 seconds ago                            alpine_sandbox\n')])])]),o("h2",{attrs:{id:"excluindo-a-um-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#excluindo-a-um-conteiner"}},[e._v("#")]),e._v(" Excluindo a um contêiner")]),e._v(" "),o("p",[e._v("Para excluir um contêiner o subcomando "),o("em",[e._v("rm")]),e._v(". O contêiner deve estar parado para que o comando seja executado com sucesso")]),e._v(" "),o("p",[o("code",[e._v("sudo docker container rm alpine_sandbox")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[marcos@localhost ~]$ sudo docker container rm alpine_sandbox\nalpine_sandbox\n")])])]),o("h2",{attrs:{id:"controlando-a-execucao-de-um-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#controlando-a-execucao-de-um-conteiner"}},[e._v("#")]),e._v(" Controlando a execução de um contêiner")]),e._v(" "),o("p",[e._v("Além dos comandos apresentados anteriormente, existem alguns outros bastante úteis. mas para utilizá-los será nessária uma imagem que contenha, por exemplo, um servico em execução.")]),e._v(" "),o("p",[e._v("Por exemplo, as imagens utilizadas até aqui são iniciadas com o processador de comandos "),o("em",[e._v("/bin/ash")]),e._v(" ou "),o("em",[e._v("/bin/sh")]),e._v(". Ao inicializar estes contêineres e desconectar, o mesmo passa para o status "),o("em",[e._v("Exited")]),e._v(".")]),e._v(" "),o("p",[e._v("Baixaremos um servidor "),o("a",{attrs:{href:"https://hub.docker.com/r/tobilg/mini-webserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("web mínimo"),o("OutboundLink")],1),e._v(" para os passos seguintes")]),e._v(" "),o("p",[o("code",[e._v("sudo docker pull tobilg/mini-webserver")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[marcos@localhost ~]$ sudo docker pull tobilg/mini-webserver\nUsing default tag: latest\nlatest: Pulling from tobilg/mini-webserver\n2aecc7e1714b: Pull complete \ne8bfe4fc6199: Pull complete \nb234f264abbe: Pull complete \n684e340e448a: Pull complete \n67f83b1979d1: Pull complete \n00c829ba9035: Pull complete \nDigest: sha256:773954565f17198c1f4e68a2684171d3dd8d3434b9ffefd082c2901b0d7c3bc5\nStatus: Downloaded newer image for tobilg/mini-webserver:latest\n[marcos@localhost ~]$ sudo docker images\nREPOSITORY              TAG                 IMAGE ID            CREATED             SIZE\ntobilg/mini-webserver   latest              cd885ea73da2        2 years ago         64.5MB\n")])])]),o("h3",{attrs:{id:"conteiner-executando-em-background"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#conteiner-executando-em-background"}},[e._v("#")]),e._v(' Contêiner executando em "background"')]),e._v(" "),o("p",[e._v('Em boa parte das aplicações deseja-se criar o contêiner e deixá-lo rodando em "background". O parâmetro '),o("em",[e._v("-d")]),e._v(' informa ao "deamon" que o contêiner será executado desta forma:')]),e._v(" "),o("p",[o("code",[e._v("sudo docker run -d nome_imagem")])]),e._v(" "),o("p",[e._v("sudo docker run --name=mini-web  -d tobilg/mini-webserver")]),e._v(" "),o("p",[e._v('[marcos@localhost ~]$ sudo docker run --name=mini-web -d tobilg/mini-webserver\ne202a158a4290ddb7911c87defcb67caa2f4ed9b89f9e5c03ebdf79e3046894f\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES\ne202a158a429        tobilg/mini-webserver   "node /app/mini-webs…"   6 seconds ago       Up 5 seconds                3000/tcp                 mini-web')]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("Por se tratar de um servidor WEB, são necessários parametros adicionais na inicializaçao. Para fins de exemplificação, estes parâmetos foram deixados de lado.☻")])]),e._v(" "),o("h3",{attrs:{id:"pausando-um-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#pausando-um-conteiner"}},[e._v("#")]),e._v(" Pausando um contêiner")]),e._v(" "),o("p",[e._v("O comando "),o("em",[e._v("pause")]),e._v(" interrompe a execução em um ou mais contêineres pausando todos os processos, mantendo-os integros.")]),e._v(" "),o("p",[o("code",[e._v("sudo docker pause mini-web")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker pause mini-web\nmini-web\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES\ne202a158a429        tobilg/mini-webserver   "node /app/mini-webs…"   6 minutes ago       Up 6 minutes (Paused)       3000/tcp                 mini-web\n')])])]),o("h3",{attrs:{id:"restaura-um-conteiner-pausado"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#restaura-um-conteiner-pausado"}},[e._v("#")]),e._v(' Restaura um contêiner "pausado"')]),e._v(" "),o("p",[e._v("O comando "),o("em",[e._v("unpause")]),e._v(" restaura a execução em um ou mais contêineres pausados.")]),e._v(" "),o("p",[o("code",[e._v("sudo docker unpause mini-web")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker unpause mini-web\nmini-web\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES\ne202a158a429        tobilg/mini-webserver   "node /app/mini-webs…"   8 minutes ago       Up 8 minutes                3000/tcp                 mini-web\n')])])]),o("h3",{attrs:{id:"reinicializando-um-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#reinicializando-um-conteiner"}},[e._v("#")]),e._v(" Reinicializando um contêiner")]),e._v(" "),o("p",[e._v("Com o comando "),o("em",[e._v("restart")]),e._v(" - Reinicializa um ou mais contêineres.Este é uma combinação dos comandos "),o("em",[e._v("stop")]),e._v(" e "),o("em",[e._v("start")]),e._v(".")]),e._v(" "),o("p",[o("code",[e._v("sudo docker restart mini-web")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker restart mini-web\nmini-web\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS                    NAMES\ne202a158a429        tobilg/mini-webserver   "node /app/mini-webs…"   12 minutes ago      Up 5 seconds                3000/tcp                 mini-web\n')])])]),o("h2",{attrs:{id:"criando-uma-imagem-a-partir-do-conteiner"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#criando-uma-imagem-a-partir-do-conteiner"}},[e._v("#")]),e._v(" Criando uma imagem a partir do Contêiner")]),e._v(" "),o("p",[e._v('Uma vez que as imagens são baixadas, os contêineres são criados e modificados para atender à demandas específicas como a criação de um ambiente de desenvolvimento, por exemplo. Para ser funcional este contêiner precisa ser adequadamente configurado, deve "apontar" para pastas locais na máquina hospedeira, de maneira que haja persistência de dados, terá diferentes programas instalados, bem como serviços configurados. Todo este esforço é preservado com a criação de uma nova imagem à partir do contêiner "pronto para uso".')]),e._v(" "),o("p",[e._v("Para criar uma imagem à partir de um contêiner que foi configurado, recebeu alterações, utilitários e programas, use o comando "),o("em",[e._v("commit")]),e._v(".")]),e._v(" "),o("p",[o("code",[e._v("sudo docker commit alpine_sandbox img_alpine_sandbox")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("[marcos@localhost ~]$ sudo docker commit alpine_sandbox  img_alpine_sandbox\nsha256:414544c5b9bb8f429d5fbb9ae837a83654eee20c2722ace93a5f4d0e7d832532\n[marcos@localhost ~]$ sudo docker images\nREPOSITORY              TAG                 IMAGE ID            CREATED             SIZE\nimg_alpine_sandbox      latest              414544c5b9bb        16 seconds ago      5.55MB\n")])])]),o("h2",{attrs:{id:"observacoes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#observacoes"}},[e._v("#")]),e._v(" Observações")]),e._v(" "),o("h3",{attrs:{id:"conteiners-devem-ser-descartaveis"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#conteiners-devem-ser-descartaveis"}},[e._v("#")]),e._v(" Contêiners devem ser descartáveis")]),e._v(" "),o("p",[e._v("O contêiner deve ser descartável, sem que ocorra prejuízo à atividade que ele dá suporte. Ou seja, ao finalizar sua execução, o mesmo deve ser apagado, evitando o consumo de recursos desnecessariamente.")]),e._v(" "),o("p",[e._v("Para criar um contêiner que será removido automaticamente após encerrado, utilize o argumento --rm.")]),e._v(" "),o("p",[o("code",[e._v('sudo docker run --rm --name=diga-lom busybox echo "Leia o Manual!"')])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('[marcos@localhost ~]$ sudo docker run --rm --name=diga-lom busybox echo "Leia o Manual!"\nLeia o Manual!\n[marcos@localhost ~]$ sudo docker container ls -a\nCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                      PORTS                    NAMES\n[marcos@localhost ~]$ \n')])])]),o("div",{staticClass:"custom-block warning"},[o("p",{staticClass:"custom-block-title"},[e._v("Preservando os dados")]),e._v(" "),o("p",[e._v('Todos os dados utilizados pelo contêiner serão EXCLUÍDOS também. Para preservar dados das aplicações ou dos trabalhos, os mesmos devem gravados  em pastas locais do "host" que deverão se mapeadas como volume durante a criação do contêiner. Consulte '),o("RouterLink",{attrs:{to:"/docker/volumes.html"}},[e._v('"Usando volumes"')]),e._v(" para persistir os dados gerados em suas atividades.")],1)]),e._v(" "),o("h3",{attrs:{id:"trabalhando-com-dockfile"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#trabalhando-com-dockfile"}},[e._v("#")]),e._v(" Trabalhando com Dockfile")]),e._v(" "),o("p",[e._v("A criação do contêiner é somente o primeiro passo na construção de um ambiente de desenvolvimento, criação de um servidor para testes, uma aplicação ou mesmo um microserviço.")]),e._v(" "),o("p",[e._v("Para que se tenha um contêiner pronto para o uso, invariavelmente, serão necessários passos adicionais tais como:")]),e._v(" "),o("ul",[o("li",[e._v("Atualizar as bibliotecas do SO, (apt-get update, etc..);")]),e._v(" "),o("li",[e._v("Instalar as bibliotecas da aplicação o contêiner; e")]),e._v(" "),o("li",[e._v("Aplicar configurações do ambiente como portas e volumes, entre outras atividades;")])]),e._v(" "),o("p",[e._v("Para não ter que refazer todos estes passos todas as vezes que precisarmos de um contêiner, geramos uma imagem e a partir daí, basta criar os contêiners desejados.")]),e._v(" "),o("p",[e._v('O uso de arquivos "dockerfile" é a melhor forma de gerenciar as imagens. Consulte '),o("RouterLink",{attrs:{to:"/docker/dockerfile.html"}},[e._v('"Usando Dockfiles"')]),e._v(" para conhecer e começar a utilizar esse ótimo recurso.")],1)])}),[],!1,null,null,null);a.default=s.exports}}]);