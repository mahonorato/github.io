<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOS | ⎙ L o M ⎙</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="[ Leia o Manual ]">
    
    <link rel="preload" href="/assets/css/0.styles.3c72cb3e.css" as="style"><link rel="preload" href="/assets/js/app.0564bdef.js" as="script"><link rel="preload" href="/assets/js/2.ce93f9fe.js" as="script"><link rel="preload" href="/assets/js/69.bb0b4168.js" as="script"><link rel="prefetch" href="/assets/js/10.6c6e115c.js"><link rel="prefetch" href="/assets/js/100.94f5c412.js"><link rel="prefetch" href="/assets/js/101.57da8cf8.js"><link rel="prefetch" href="/assets/js/102.68c1a8a0.js"><link rel="prefetch" href="/assets/js/103.ffeb4de9.js"><link rel="prefetch" href="/assets/js/104.cb8545b0.js"><link rel="prefetch" href="/assets/js/105.bc9f47ae.js"><link rel="prefetch" href="/assets/js/106.733e5df0.js"><link rel="prefetch" href="/assets/js/107.4ac42402.js"><link rel="prefetch" href="/assets/js/108.ff1425ba.js"><link rel="prefetch" href="/assets/js/109.dd8b2302.js"><link rel="prefetch" href="/assets/js/11.10f721e6.js"><link rel="prefetch" href="/assets/js/110.834130c0.js"><link rel="prefetch" href="/assets/js/111.ff9a21b6.js"><link rel="prefetch" href="/assets/js/112.91e3938f.js"><link rel="prefetch" href="/assets/js/113.5746e2ee.js"><link rel="prefetch" href="/assets/js/114.8dd612f8.js"><link rel="prefetch" href="/assets/js/115.2b402e1f.js"><link rel="prefetch" href="/assets/js/116.0473738f.js"><link rel="prefetch" href="/assets/js/117.33fe0c2b.js"><link rel="prefetch" href="/assets/js/118.43ad1894.js"><link rel="prefetch" href="/assets/js/119.6c831a85.js"><link rel="prefetch" href="/assets/js/12.9f3e2b59.js"><link rel="prefetch" href="/assets/js/120.025d7a44.js"><link rel="prefetch" href="/assets/js/121.909fc8b8.js"><link rel="prefetch" href="/assets/js/122.04a543bf.js"><link rel="prefetch" href="/assets/js/123.c523099a.js"><link rel="prefetch" href="/assets/js/124.91550f4e.js"><link rel="prefetch" href="/assets/js/125.237694a9.js"><link rel="prefetch" href="/assets/js/126.18300366.js"><link rel="prefetch" href="/assets/js/127.452f8a38.js"><link rel="prefetch" href="/assets/js/128.ad02467a.js"><link rel="prefetch" href="/assets/js/13.0e650ad7.js"><link rel="prefetch" href="/assets/js/14.ef119351.js"><link rel="prefetch" href="/assets/js/15.b4bda0d1.js"><link rel="prefetch" href="/assets/js/16.829a3011.js"><link rel="prefetch" href="/assets/js/17.794a87ee.js"><link rel="prefetch" href="/assets/js/18.05118b74.js"><link rel="prefetch" href="/assets/js/19.64f3099b.js"><link rel="prefetch" href="/assets/js/20.c4471ef7.js"><link rel="prefetch" href="/assets/js/21.795b3907.js"><link rel="prefetch" href="/assets/js/22.50e38a53.js"><link rel="prefetch" href="/assets/js/23.4ef43fdb.js"><link rel="prefetch" href="/assets/js/24.e595fe33.js"><link rel="prefetch" href="/assets/js/25.2f8ffc32.js"><link rel="prefetch" href="/assets/js/26.1b6cfb78.js"><link rel="prefetch" href="/assets/js/27.713bfb47.js"><link rel="prefetch" href="/assets/js/28.b048d39b.js"><link rel="prefetch" href="/assets/js/29.4f98abe6.js"><link rel="prefetch" href="/assets/js/3.9be5aeb8.js"><link rel="prefetch" href="/assets/js/30.d2914a6f.js"><link rel="prefetch" href="/assets/js/31.a0560745.js"><link rel="prefetch" href="/assets/js/32.0bcfd021.js"><link rel="prefetch" href="/assets/js/33.9309104b.js"><link rel="prefetch" href="/assets/js/34.27ed6e23.js"><link rel="prefetch" href="/assets/js/35.b56a8fdd.js"><link rel="prefetch" href="/assets/js/36.267064fe.js"><link rel="prefetch" href="/assets/js/37.a0a09f7d.js"><link rel="prefetch" href="/assets/js/38.cca2dc21.js"><link rel="prefetch" href="/assets/js/39.2cee3275.js"><link rel="prefetch" href="/assets/js/4.50293f9b.js"><link rel="prefetch" href="/assets/js/40.461dca58.js"><link rel="prefetch" href="/assets/js/41.992f8beb.js"><link rel="prefetch" href="/assets/js/42.67deb2d6.js"><link rel="prefetch" href="/assets/js/43.a89e6d95.js"><link rel="prefetch" href="/assets/js/44.e1c92c03.js"><link rel="prefetch" href="/assets/js/45.1b1cd0d8.js"><link rel="prefetch" href="/assets/js/46.5cd8992a.js"><link rel="prefetch" href="/assets/js/47.333be69b.js"><link rel="prefetch" href="/assets/js/48.b4f82cf7.js"><link rel="prefetch" href="/assets/js/49.fd5eecba.js"><link rel="prefetch" href="/assets/js/5.08e569c6.js"><link rel="prefetch" href="/assets/js/50.a65f6065.js"><link rel="prefetch" href="/assets/js/51.8ba214f8.js"><link rel="prefetch" href="/assets/js/52.6b5b58f9.js"><link rel="prefetch" href="/assets/js/53.3f3a10cd.js"><link rel="prefetch" href="/assets/js/54.54cf30fe.js"><link rel="prefetch" href="/assets/js/55.48507177.js"><link rel="prefetch" href="/assets/js/56.f60c7849.js"><link rel="prefetch" href="/assets/js/57.7fca3458.js"><link rel="prefetch" href="/assets/js/58.37b2eb46.js"><link rel="prefetch" href="/assets/js/59.ce88f1ab.js"><link rel="prefetch" href="/assets/js/6.8a3a2c47.js"><link rel="prefetch" href="/assets/js/60.6c5860f7.js"><link rel="prefetch" href="/assets/js/61.17900b8b.js"><link rel="prefetch" href="/assets/js/62.3f83884e.js"><link rel="prefetch" href="/assets/js/63.51fb7f11.js"><link rel="prefetch" href="/assets/js/64.c68c5c31.js"><link rel="prefetch" href="/assets/js/65.bd49e299.js"><link rel="prefetch" href="/assets/js/66.4fcd55fa.js"><link rel="prefetch" href="/assets/js/67.fc2232e5.js"><link rel="prefetch" href="/assets/js/68.7f54b719.js"><link rel="prefetch" href="/assets/js/7.fd379983.js"><link rel="prefetch" href="/assets/js/70.96d49dda.js"><link rel="prefetch" href="/assets/js/71.c2a5202b.js"><link rel="prefetch" href="/assets/js/72.5363b3e1.js"><link rel="prefetch" href="/assets/js/73.ab0569c4.js"><link rel="prefetch" href="/assets/js/74.cd977912.js"><link rel="prefetch" href="/assets/js/75.806ccbc9.js"><link rel="prefetch" href="/assets/js/76.3e0bf071.js"><link rel="prefetch" href="/assets/js/77.8bfcb8cb.js"><link rel="prefetch" href="/assets/js/78.312781ed.js"><link rel="prefetch" href="/assets/js/79.134e5109.js"><link rel="prefetch" href="/assets/js/8.12b90ec8.js"><link rel="prefetch" href="/assets/js/80.f9f459c0.js"><link rel="prefetch" href="/assets/js/81.9b7bc6d7.js"><link rel="prefetch" href="/assets/js/82.b96f6e32.js"><link rel="prefetch" href="/assets/js/83.7649d214.js"><link rel="prefetch" href="/assets/js/84.3fb07913.js"><link rel="prefetch" href="/assets/js/85.4dd95ab0.js"><link rel="prefetch" href="/assets/js/86.a27e8c3a.js"><link rel="prefetch" href="/assets/js/87.cec4f786.js"><link rel="prefetch" href="/assets/js/88.16f2dd4b.js"><link rel="prefetch" href="/assets/js/89.4f2b02ff.js"><link rel="prefetch" href="/assets/js/9.33cf7492.js"><link rel="prefetch" href="/assets/js/90.c11d9b35.js"><link rel="prefetch" href="/assets/js/91.3180315b.js"><link rel="prefetch" href="/assets/js/92.f9e60e70.js"><link rel="prefetch" href="/assets/js/93.56ebe3f1.js"><link rel="prefetch" href="/assets/js/94.f9d843ec.js"><link rel="prefetch" href="/assets/js/95.6548ca81.js"><link rel="prefetch" href="/assets/js/96.0d7d93af.js"><link rel="prefetch" href="/assets/js/97.e045d6a2.js"><link rel="prefetch" href="/assets/js/98.5425790a.js"><link rel="prefetch" href="/assets/js/99.1376b0d4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3c72cb3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">⎙ L o M ⎙</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  [Inicio]
</a></div><div class="nav-item"><a href="/docker/" class="nav-link">
  Docker
</a></div><div class="nav-item"><a href="/sas/" class="nav-link">
  SAS
</a></div><div class="nav-item"><a href="/freeplane.html" class="nav-link">
  Mapas (ツ)
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  [Inicio]
</a></div><div class="nav-item"><a href="/docker/" class="nav-link">
  Docker
</a></div><div class="nav-item"><a href="/sas/" class="nav-link">
  SAS
</a></div><div class="nav-item"><a href="/freeplane.html" class="nav-link">
  Mapas (ツ)
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dos"><a href="#dos" class="header-anchor">#</a> DOS</h1> <h2 id="shutdown"><a href="#shutdown" class="header-anchor">#</a> shutdown</h2> <div class="language- extra-class"><pre><code>shutdown [/i | /l | /s | /r | /g | /a | /p | /h | /e | /o] [/hybrid] [/f] [/m \\computername] [/t xxx] [/d [p:|u:]xx:yy] [/c &quot;comment&quot;] [/?]
shutdown /s /m \\SERVER /d p:0:0 /c &quot;Planned restart by Tim&quot;
    In this shutdown command example, a remote computer named SERVER is being shut down with a recorded reason of Other (Planned). A comment is also recorded as Planned restart by Tim. Since no time is designated with the /t option, the shutdown will begin on SERVER 30 seconds after executing the shutdown command
shutdown /r /d p:0:0
    In the above example, the shutdown command is used to restart the computer that's currently being used and records a reason of Other (Planned). The restart is designed by /r and the reason is specified with the /d option with p representing that the restart is planned and the 0:0 indicating an &quot;Other&quot; reason
shutdown /r /m SBICPD03 /d p:0:0 /c &quot;Reinicializado devido a travamento&quot;
psexec \\10.3.13.150 -u grupolight\s_ucgndit -p senha -w D:\dados\PRDRI\HMLRI shutdown -r -t 3
    Reinicializa um servidor remoto
Opções
    /i = This shutdown option shows the Remote Shutdown Dialog, a graphical version of the remote shut down and restart features available in the shutdown command. The /i switch must be the first switch shown and all other options will be ignored.
    /l = This option will immediately log off the current user on the current machine. You can not use the /l option with the /m option to log off a remote computer. The /d, /t, and /c options are also not available with /l.
    /s = Use this option with the shutdown command to shut down the local or /m defined remote computer.
    /r = This option will shut down and then restart the local computer or the remote computer specified in /m.
    /g = This shutdown option functions the same as the /r option but will also restart any registered applications after the reboot.
    /a = Use this option to stop a pending shut down or restart. Remember to use the /m option if you're planning on stopping a pending shut down or restart that you executed for a remote computer.
    /p = This shutdown command option turns off the local computer completely. Using the /p option is similar to executing shutdown /s /f /t 0. You can not use this option with /t.
    /h = Executing the shutdown command with this option immediately puts the computer you're on into hibernation. You can not use the /h option with the /m option to put a remote computer into hibernation, nor can you use this option with /t, /d, or /c.
    /e = This option enables documentation for an unexpected shut down in the Shutdown Event Tracker.
    /o = Use this shutdown switch to end the current Windows session and open the Advanced Boot Options menu. This option must be used with /r. The /o switch is new beginning in Windows 8. &lt;http://pcsupport.about.com/od/termsag/p/advanced-boot-options.htm&gt;
    /hybrid = This option performs a shutdown and prepares the computer for fast startup. The /hybrid switch is new beginning in Windows 8.
    /f = This option forces running programs to close without warning. Except with the /l, /p, and /h options, not using shutdown's /f option will present a warning about the pending shut down or restart.
    /m \\computername = This shutdown command option specifies the remote computer that you want to execute a shut down or restart on.
    /t xxx = This is the time, in seconds, between the execution of the shutdown command and the actual shut down or restart. The time can be anywhere from 0 (immediately) to 315360000 (10 years). If you don't use the /t option then 30 seconds is assumed. The /t option is not available with either the /l, /h, or /p options.
    /d [p:|u:]xx:yy = This records a reason for the restart or shut down. The p option indicates a planned restart or shut down and the u a user defined one. The xx and yy options specify major and minor reasons for the shut down or restart, respectively, a list of which you can view by executing the shutdown command without options. If neither p nor u are defined, the shut down or restart will be recorded as unplanned.
</code></pre></div><h2 id="listando-somente-o-nome-do-arqivo-sem-a-extensao"><a href="#listando-somente-o-nome-do-arqivo-sem-a-extensao" class="header-anchor">#</a> Listando somente o nome do arqivo sem a extensão</h2> <div class="language- extra-class"><pre><code>FOR
    for /r %i in (*) do @echo %~ni
</code></pre></div><h2 id="logout"><a href="#logout" class="header-anchor">#</a> Logout</h2> <div class="language- extra-class"><pre><code>shutdown -l
</code></pre></div><h2 id="uptime"><a href="#uptime" class="header-anchor">#</a> Uptime</h2> <div class="language- extra-class"><pre><code>systeminfo
info
</code></pre></div><h2 id="proxy"><a href="#proxy" class="header-anchor">#</a> Proxy</h2> <div class="language- extra-class"><pre><code>netsh winhttp set proxy &lt;YOUR PROXY SERVER&gt;:&lt;PORT&gt; &quot;&lt;EXCLUSION LIST&gt;&quot;
netsh winhttp set proxy 172.16.1.51:8888 &quot;localhost, 127.0.0.1, 10.0.0.0, portalintranet&quot;
netsh winhttp set proxy splight.grupolight.local:8080 &quot;localhost, 127.0.0.1, 10.0.0.0, portalintranet&quot;
</code></pre></div><h2 id="telnet"><a href="#telnet" class="header-anchor">#</a> TELNET</h2> <div class="language- extra-class"><pre><code>Windows 7
    Habilitar no painel de controle (Turn Windows Features on or off)
</code></pre></div><h2 id="for"><a href="#for" class="header-anchor">#</a> For</h2> <div class="language- extra-class"><pre><code>Exemplos
    for %a in (*.csv) DO &quot;C:\Program Files\WinRAR\winrar&quot; a -afzip %a.zip %a
    for %a in (*.TXT) DO &quot;C:\Program Files\WinRAR\winrar&quot; a -afzip %a.zip %a
    for %a in (*.FLG) DO &quot;C:\Progra~1\WinRAR\winrar&quot; a -afzip %a.zip %a
    for %a in (*.TXT) DO &quot;C:\Progra~1\WinRAR\winrar&quot; a -afzip %a.zip %a
    for %a in (*.txt) DO &quot;C:\Program Files (x86)\7-Zip\7z.exe&quot; a %a.zip %a
    for %a in (*.TXT) DO copy meu_arquivo.txx + %a meu_arquivo.txx
    for %a in (*.ZIP) DO &quot;C:\_AppBin\7-ZipPortable\7za.exe&quot; e %a
    for %a in (*.zip) DO &quot;C:\Program Files (x86)\7-Zip\7z.exe&quot; e %a
    for %a in (*.FLG) DO &quot;C:\bin\7-zip\7z.exe&quot; a %a.zip %a
    for %a in (*.TXT) DO &quot;C:\_AppBin\7-ZipPortable\7za.exe&quot; a %a.zip %a
    for %a in (*.txt) DO &quot;C:\Program Files (x86)\7-Zip\7z.exe&quot; a %a.zip %a
    for %a in (*.sql) DO ren %a %a.txt
    for %a in (*.TXT) DO &quot;C:\Program Files (x86)\WinRAR\winrar&quot; a -afzip %a.zip %a
    for %a in (*.FLG) DO &quot;C:\_AppBin\7-ZipPortable\7za.exe&quot; a %a.zip %a
    rem Desta forma ele grava o caminho do arquivo for %a in (\\sbdcpd05.grupolight.local\DADOS_RI\UNICO\Teste_funcional_20170113\*.TXT) DO &quot;C:\Program Files\WinRAR\winrar&quot; a -afzip %a.zip %a
    for %a in ('dir /b E:\TXTs_UNICO\carga_concatenada\*.txt ^| sort') DO copy /y choice_calculo_yyyymmdd.txt + %a choice_calculo_yyyymmdd.txt
    for %a in (*.FLG) DO echo %a &gt;&gt; faturamento.txt
    for %a in (*.FLG) DO &quot;C:\_AppBin\7-ZipPortable\7z.exe&quot; a %a.zip %a
Variaveis de substituiçao
    substitution of FOR variable references has been enhanced. You can now use the following optional syntax:
    %~I         - expands %I removing any surrounding quotes (&quot;) %~fI        - expands %I to a fully qualified path name %~dI        - expands %I to a drive letter only %~pI        - expands %I to a path only %~nI        - expands %I to a file name only %~xI        - expands %I to a file extension only %~sI        - expanded path contains short names only %~aI        - expands %I to file attributes of file %~tI        - expands %I to date/time of file %~zI        - expands %I to size of file %~$PATH:I   - searches the directories listed in the PATH                environment variable and expands %I to the                fully qualified name of the first one found.                If the environment variable name is not                defined or the file is not found by the                search, then this modifier expands to the                empty string
    The modifiers can be combined to get compound results:  %~dpI       - expands %I to a drive letter and path only %~nxI       - expands %I to a file name and extension only %~fsI       - expands %I to a full path name with short names only
Substring
    Substrings are done using the :~start,length notation: %var:~10,5% will extract 5 characters from position 10 in the environment variable %var%.
        %var:~-7% extracts the last 7 characters from %var%     %var:~0,-4% would extract all characters except the last four which would also rid you of the file extension (assuming three characters after the period [.]).
Dentro do BAT são %%A
      for %%a in (*%_date%.LOG) DO &quot;C:\Program Files\WinRAR\winrar&quot; a -afzip ddls_ri28_%_date%.zip %%a
Problemas de ordenação de arquivos
    O &quot;for %%s in (*.sql) do call&quot; acaba pegando os arquivos de forma desordenada.
    Para garantir a ordenação: for %%s in (dir&quot;*.sql ^| sort) do call
    for /f &quot;tokens=*&quot; %%s in ('dir /b *.sql ^| sort') do echo %% (no Windows8)
</code></pre></div><h2 id="net-use"><a href="#net-use" class="header-anchor">#</a> NET USE</h2> <div class="language- extra-class"><pre><code>et use [{devicename | *}] [\\computername\sharename[\volume] [{password | *}]] [/user:[domainname\]username] [/user:[dotteddomainname\]username] [/user:[username@dotteddomainname] [/home {devicename | *} [{password | *}]] [/persistent:{yes | no}] [/smartcard] [/savecred] [/delete] [/help] [/?]
net use e: \\usrsvr002\smithmark Ue345Ii /user:pdc01\msmith2 /savecred /p:yes
net use P: \\sbdcpd10.grupolight.local\dadosPRDRI /USER:GRUPOLIGHT\%1 %2
net use p: \\ascpd80.grupolight.local\Entrada /USER:GRUPOLIGHT\s_ucgndit Light@MM /savecred /p:yes
net use P: \\ascpd80.grupolight.local\c$
net use X: \\sbicpd03.grupolight.local\e$ /USER:GRUPOLIGHT\s_ucgndit
</code></pre></div><h2 id="find-examples"><a href="#find-examples" class="header-anchor">#</a> Find examples</h2> <div class="language- extra-class"><pre><code>find /c &quot;REM&quot; c:\autoexec.bat
    The above example would find any &quot;REM&quot; statement in the autoexec.bat.
find /v /c &quot;&amp;*fake&amp;*&quot; programs.txt
    List each line not containing &quot;&amp;*fake&amp;*&quot;, because it's very unlikely any file would contain this string of text this would give you an accurate line count of the file.
find &quot;hope&quot; *.txt
    Next this example searches for any text file (.txt) that contains the text hope in the current directory. Below is an example of the output you may see. As can be seen from the example below the only file that contains hope is the CH.TXT file.
</code></pre></div><h2 id="if"><a href="#if" class="header-anchor">#</a> IF</h2> <div class="language- extra-class"><pre><code>IF [NOT] ERRORLEVEL number command IF [NOT] string1==string2 command IF [NOT] EXIST filename command
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0564bdef.js" defer></script><script src="/assets/js/2.ce93f9fe.js" defer></script><script src="/assets/js/69.bb0b4168.js" defer></script>
  </body>
</html>
