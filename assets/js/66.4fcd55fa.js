(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{466:function(a,t,e){"use strict";e.r(t);var s=e(42),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"o-utilitario-de-importacao-dpimp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#o-utilitario-de-importacao-dpimp"}},[a._v("#")]),a._v(" O utilitário de importação DPIMP")]),a._v(" "),e("h2",{attrs:{id:"importar-uma-tabela"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#importar-uma-tabela"}},[a._v("#")]),a._v(" Importar uma tabela")]),a._v(" "),e("p",[a._v('O comando para importar de um arquivo DUMP, "arquivo.dmp", armazenado no diretório "nome_do_diretorio", do Oracle,  a tabela "nome_tabela" é:')]),a._v(" "),e("p",[e("strong",[a._v("impdp")]),a._v(" usuario/senha@banco "),e("strong",[a._v("DIRECTORY")]),a._v("=nome_do_diretorio "),e("strong",[a._v("TABLES")]),a._v("=nome_esquema.nome_tabela "),e("strong",[a._v("DUMPFILE")]),a._v("=arquivo.dmp")]),a._v(" "),e("p",[a._v("Exemplo:\nPara um arquivo de dados "),e("em",[a._v("BKP_DIARIO_20191016.DMP")]),a._v(" gravado no diretório "),e("em",[a._v("DADOS_DIR")]),a._v(", teremos:")]),a._v(" "),e("p",[e("code",[a._v("impdp adm_banco@meu_banco DIRECTORY='DADOS_DIR' TABLES=adm_banco.pais DUMPFILE=bkp_diario_20191016.dmp")])]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[a._v("    impdp adm_banco"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@meu_banco")]),a._v(" DIRECTORY"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'DADOS_DIR'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLES")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("adm_banco"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pais "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DUMPFILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("bkp_diario_20191016"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dmp\n      \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/* Saída:\n    Conectado a: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production\n    With the Partitioning, Automatic Storage Management, OLAP, Data Mining\n    and Real Application Testing options\n    Tabela-mestre "ADM_BANCO"."SYS_IMPORT_TABLE_01" carregada/descarregada com sucesso\n    Iniciando "ADM_BANCO"."SYS_IMPORT_TABLE_01":  adm_banco/********@meu_banco DIRECTORY=\'DADOS_DIR\' TABLES=adm_banco.pais DUMPFILE=bkp_diario_20191016.dmp\n    Processando o tipo de objeto SCHEMA_EXPORT/TABLE/TABLE\n    Processando o tipo de objeto SCHEMA_EXPORT/TABLE/TABLE_DATA\n    . . importou "ADM_BANCO"."PAIS"                          8.562 KB      27 linhas\n    O job "ADM_BANCO"."SYS_IMPORT_TABLE_01" foi concluÝdo com sucesso em Qui Out 17 17:46:18 2019 elapsed 0 00:00:01\n    */')]),a._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("Atenção")]),a._v(" "),e("p",[a._v("Esta sintaxe é para as situações onde a tabela não existe no esquema destino.")])]),a._v(" "),e("h2",{attrs:{id:"importar-somente-dados-ou-a-estrutura-da-tabela"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#importar-somente-dados-ou-a-estrutura-da-tabela"}},[a._v("#")]),a._v(" Importar somente dados ou a estrutura da tabela")]),a._v(" "),e("p",[a._v("Para criar a tabela sem carregar os dados use o parâmetro "),e("strong",[a._v("CONTENT=METADATA_ONLY")])]),a._v(" "),e("p",[a._v("O parâmetro "),e("strong",[a._v("CONTENT")]),a._v(" é utilizado tanto por "),e("em",[a._v("expdp")]),a._v(" e "),e("em",[a._v("impdp")]),a._v(", para carregar/descarregar somente os dados, somente a estrutura da tabela (metadata) ou ambos.\nOu seja:")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[a._v("CONTENT")]),a._v(" "),e("th",{staticStyle:{"text-align":"center"}},[a._v("RESULTADO")])])]),a._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("ALL")]),a._v(" "),e("td",{staticStyle:{"text-align":"center"}},[a._v("Dados e Estrutura serão carregados/descarregados")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("DATA_ONLY")]),a._v(" "),e("td",{staticStyle:{"text-align":"center"}},[a._v("Somente os Dados serão carregados/descarregados")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("METADATA_ONLY")]),a._v(" "),e("td",{staticStyle:{"text-align":"center"}},[a._v("Somente a Estrutura será carregada/descarregada")])])])]),a._v(" "),e("p",[a._v("O valor padrão é "),e("strong",[a._v("CONTENT=ALL")]),a._v(".")]),a._v(" "),e("p",[a._v("Somente Estrutura:")]),a._v(" "),e("p",[e("strong",[a._v("impdp")]),a._v(" usuario/senha@banco "),e("strong",[a._v("DIRECTORY")]),a._v("=nome_do_diretorio "),e("strong",[a._v("CONTENT")]),a._v("=METADATA_ONLY "),e("strong",[a._v("TABLES")]),a._v("=nome_esquema.nome_tabela "),e("strong",[a._v("DUMPFILE")]),a._v("=arquivo.dmp")]),a._v(" "),e("p",[a._v("Somente Dados:")]),a._v(" "),e("p",[e("strong",[a._v("impdp")]),a._v(" usuario/senha@banco "),e("strong",[a._v("DIRECTORY")]),a._v("=nome_do_diretorio "),e("strong",[a._v("CONTENT")]),a._v("=DATA_ONLY "),e("strong",[a._v("TABLES")]),a._v("=nome_esquema.nome_tabela "),e("strong",[a._v("DUMPFILE")]),a._v("=arquivo.dmp")]),a._v(" "),e("p",[a._v("Exemplo:\nPara carregar somente a estrutura da tabela "),e("em",[a._v("PAIS")]),a._v(" no esquema destino "),e("em",[a._v("ADM_BANCO")]),a._v(", teremos:")]),a._v(" "),e("p",[e("code",[a._v("impdp adm_banco@meu_banco DIRECTORY='DADOS_DIR' CONTENT=METADATA_ONLY TABLES=adm_banco.pais DUMPFILE=bkp_diario_20191016.dmp")])]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[a._v("    impdp adm_banco"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@meu_banco")]),a._v(" DIRECTORY"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'DADOS_DIR'")]),a._v(" CONTENT"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("METADATA_ONLY "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLES")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("adm_banco"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pais "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DUMPFILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("bkp_diario_20191016"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dmp\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/* Saída\n    Conectado a: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production\n    With the Partitioning, Automatic Storage Management, OLAP, Data Mining\n    and Real Application Testing options\n    Tabela-mestre "ADM_BANCO"."SYS_IMPORT_TABLE_01" carregada/descarregada com sucesso\n    Iniciando "ADM_BANCO"."SYS_IMPORT_TABLE_01":  adm_banco/********@meu_banco DIRECTORY=\'DADOS_DIR\' CONTENT=METADATA_ONLY TABLES=adm_banco.pais DUMPFILE=bkp_diario_20191016.dmp\n    Processando o tipo de objeto SCHEMA_EXPORT/TABLE/TABLE\n    O job "ADM_BANCO"."SYS_IMPORT_TABLE_01" foi concluÝdo com sucesso em Qui Out 17 18:06:07 2019 elapsed 0 00:00:01\n    */')]),a._v("\n")])])]),e("h2",{attrs:{id:"carregando-dados-em-uma-tabela"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#carregando-dados-em-uma-tabela"}},[a._v("#")]),a._v(" Carregando dados em uma tabela")]),a._v(" "),e("p",[a._v("Ao importar dados para uma tabela existente, deve-se definir qual a ação será tomada para os dados que já estão carregados na tabela. Os dados existentes podem ser apagados ou podem ser mantidos.\nO parametro "),e("strong",[a._v("TABLE_EXISTS_ACTION")]),a._v(" é utilizado para esta definição e pode ser um dos seguintes valores:")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[a._v("TABLE_EXISTS_ACTION")]),a._v(" "),e("th",{staticStyle:{"text-align":"left"}},[a._v("RESULTADO")])])]),a._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("SKIP")]),a._v(" "),e("td",{staticStyle:{"text-align":"left"}},[a._v("Não faz qualquer alteração na tabela. Se CONTENT=DATA_ONLY este parâmetro não tem efeito")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("APPEND")]),a._v(" "),e("td",{staticStyle:{"text-align":"left"}},[a._v("Carrega as linhas da origem e deixa as linhas existentes inalteradas")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("TRUNCATE")]),a._v(" "),e("td",{staticStyle:{"text-align":"left"}},[a._v("Exclui TODAS as linhas existentes e carrega as linhas da origem")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("REPLACE")]),a._v(" "),e("td",{staticStyle:{"text-align":"left"}},[a._v("Apaga a tabela atual, cria uma nova e carrega os dados. Se CONTENT=DATA_ONLY este parâmetro não tem efeito")])])])]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("Leve em consideração:")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Quando usar TRUNCATE ou REPLACE, certifique-se de tabelas destino não use chave referencial")])]),a._v(" "),e("li",[e("p",[a._v('Ao usar SKIP, APPEND, ou TRUNCATE os objetos dependentes da tabela, como índices, "triggers", "grants" e "constraints" não são modificados. Paa o REPLACE estes objetos são recriados com base na tabela de origem.')])]),a._v(" "),e("li",[e("p",[a._v("Se a tabela destino tiver constraints, a carga poderá forçada usando o parâmetro "),e("em",[a._v("DATA_OPTIONS=SKIP_CONSTRAINT_ERRORS")]),a._v(" no comando de importação.")])]),a._v(" "),e("li",[e("p",[a._v("Outra alternativa é desabilitar as constraints, carrega os dados e excluir as linhas com problemas, habilitando as constraints no final.")])]),a._v(" "),e("li",[e("p",[a._v("Quando se usa APPEND, os registros são carregados em novos blocos no banco mesmo que exista espaço disponivel. Pode-se fazer manutenção na tabela para recuperar os espaços não utilizados.")])])])]),a._v(" "),e("h2",{attrs:{id:"importando-uma-tabela-para-outro-esquema"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#importando-uma-tabela-para-outro-esquema"}},[a._v("#")]),a._v(" Importando uma tabela para outro esquema")]),a._v(" "),e("p",[a._v("Para carregar uma tabela em um esquema diferente, use o parâmetro "),e("strong",[a._v("REMAP_SCHEMA")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("impdp")]),a._v(" usuario/senha@banco "),e("strong",[a._v("DIRECTORY")]),a._v("=nome_do_diretorio "),e("strong",[a._v("REMAP_SCHEMA")]),a._v("=esquema_origem:esquema_destino  "),e("strong",[a._v("LOGFILE")]),a._v("=nome-arquivo.log "),e("strong",[a._v("DUMPFILE")]),a._v("=nome-arquivo.dmp")]),a._v(" "),e("p",[a._v("Exemplo:\nCarregando as tabelas contidas no arquivo "),e("em",[a._v("bkp_diario_20191016.dmp")]),a._v(" do esquema _adm_banco_para o "),e("em",[a._v("meu_esquema")]),a._v(".")]),a._v(" "),e("p",[e("code",[a._v("impdp adm_banco@meu_banco DIRECTORY='DADOS_DIR' TABLES=adm_banco.pais DUMPFILE=bkp_diario_20191016.dmp REMAP_SCHEMA=adm_banco:meu_esquema")])]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[a._v("impdp adm_banco"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@meu_banco")]),a._v(" DIRECTORY"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'DADOS_DIR'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLES")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("adm_banco"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pais "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DUMPFILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("bkp_diario_20191016"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dmp REMAP_SCHEMA"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("adm_banco:meu_esquema\nConectado a: Oracle "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Database")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v("g Enterprise Edition "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Release")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("11.2")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v(".4")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("bit Production\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("With")]),a._v(" the Partitioning"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" Automatic Storage Management"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" OLAP"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Data")]),a._v(" Mining\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("and")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Real")]),a._v(" Application Testing options\nTabela"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("mestre "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ADM_BANCO"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"SYS_IMPORT_TABLE_01"')]),a._v(" carregada"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("descarregada com sucesso\nIniciando "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ADM_BANCO"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"SYS_IMPORT_TABLE_01"')]),a._v(":  adm_banco"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@meu_banco")]),a._v(" DIRECTORY"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'DADOS_DIR'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLES")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("adm_banco"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pais "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DUMPFILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("bkp_diario_20191016"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dmp REMAP_SCHEMA"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("adm_banco:meu_esquema\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" importou "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"MEU_ESQUEMA"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"PAIS"')]),a._v("                        "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.562")]),a._v(" KB      "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("27")]),a._v(" linhas\nO job "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ADM_BANCO"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"SYS_IMPORT_TABLE_01"')]),a._v(" foi concluÝ"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" com sucesso em Sex "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Out")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("25")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v(":"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("34")]),a._v(":"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("05")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" elapsed "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("00")]),a._v(":"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("00")]),a._v(":"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("02")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);